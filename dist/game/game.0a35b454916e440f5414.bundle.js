(()=>{"use strict";var t={197:(t,e,s)=>{s.d(e,{Z:()=>r});var n=s(645),i=s.n(n)()((function(t){return t[1]}));i.push([t.id,"* {\r\n\tmargin:0;\r\n\tpadding:0;\r\n\tbox-sizing: border-box;\r\n}\r\nbody {\r\n\tfont-size:16px;\r\n\tbackground-color: black;\r\n}\r\ncanvas {\r\n\tposition:absolute;\r\n\tleft:0;\r\n\ttop:0;\r\n}",""]);const r=i},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var s=t(e);return e[2]?"@media ".concat(e[2]," {").concat(s,"}"):s})).join("")},e.i=function(t,s,n){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(n)for(var r=0;r<this.length;r++){var a=this[r][0];null!=a&&(i[a]=!0)}for(var o=0;o<t.length;o++){var h=[].concat(t[o]);n&&i[h[0]]||(s&&(h[2]?h[2]="".concat(s," and ").concat(h[2]):h[2]=s),e.push(h))}},e}},202:(t,e,s)=>{s.r(e),s.d(e,{default:()=>a});var n=s(379),i=s.n(n),r=s(197);i()(r.Z,{insert:"head",singleton:!1});const a=r.Z.locals||{}},379:(t,e,s)=>{var n,i=function(){var t={};return function(e){if(void 0===t[e]){var s=document.querySelector(e);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(t){s=null}t[e]=s}return t[e]}}(),r=[];function a(t){for(var e=-1,s=0;s<r.length;s++)if(r[s].identifier===t){e=s;break}return e}function o(t,e){for(var s={},n=[],i=0;i<t.length;i++){var o=t[i],h=e.base?o[0]+e.base:o[0],c=s[h]||0,l="".concat(h," ").concat(c);s[h]=c+1;var u=a(l),d={css:o[1],media:o[2],sourceMap:o[3]};-1!==u?(r[u].references++,r[u].updater(d)):r.push({identifier:l,updater:f(d,e),references:1}),n.push(l)}return n}function h(t){var e=document.createElement("style"),n=t.attributes||{};if(void 0===n.nonce){var r=s.nc;r&&(n.nonce=r)}if(Object.keys(n).forEach((function(t){e.setAttribute(t,n[t])})),"function"==typeof t.insert)t.insert(e);else{var a=i(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var c,l=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function u(t,e,s,n){var i=s?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(t.styleSheet)t.styleSheet.cssText=l(e,i);else{var r=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}function d(t,e,s){var n=s.css,i=s.media,r=s.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var y=null,p=0;function f(t,e){var s,n,i;if(e.singleton){var r=p++;s=y||(y=h(e)),n=u.bind(null,s,r,!1),i=u.bind(null,s,r,!0)}else s=h(e),n=d.bind(null,s,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(s)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var s=o(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var n=0;n<s.length;n++){var i=a(s[n]);r[i].references--}for(var h=o(t,e),c=0;c<s.length;c++){var l=a(s[c]);0===r[l].references&&(r[l].updater(),r.splice(l,1))}s=h}}}},693:(t,e,s)=>{const{GAME_WIDTH:n,GAME_HEIGHT:i}=s(556);t.exports=class{constructor(t=n/2,e=i/2,s=5){this.x=t,this.y=e,this.speed=s}interp(t,e,s){s>1?(this.x+=.2*(t-this.x),this.y+=.2*(e-this.y)):(this.x+=.2*(t-this.x)*s*this.speed,this.y+=.2*(e-this.y)*s*this.speed)}setTo(t,e){this.x=t,this.y=e}}},688:(t,e,s)=>{const n=s(17),i=s(131);t.exports={Basic:n,Fast:i}},17:(t,e,s)=>{const{BASIC_ENEMY_COLOR:n}=s(556),i=s(503);t.exports=class{constructor(t,e=5,s=50){this.pathIndex=1,this.path=t,this.x=this.lastPath.x,this.y=this.lastPath.y,this.radius=s/2,this.speed=e,this.color=n,this.accuracy=5,this.calculateVelocity()}lerp(t,e,s){return t*(1-s)+e*s}findAngle(){return Math.atan2(this.currentPath.y-this.lastPath.y,this.currentPath.x-this.lastPath.x)}calculateVelocity(){this.angle=this.findAngle(),this.xv=this.speed*Math.cos(this.angle)/this.accuracy,this.yv=this.speed*Math.sin(this.angle)/this.accuracy}update(){for(let t=0;t<this.accuracy;t++)this.x+=this.xv,this.y+=this.yv,this.onPath&&(this.pathIndex++,this.x=this.lastPath.x,this.y=this.lastPath.y,this.currentPath||(this.pathIndex=1,this.x=this.path[0].x,this.y=this.path[0].y),this.calculateVelocity())}get roundPos(){return{x:Math.round(this.x),y:Math.round(this.y)}}render(t,e){const s=this.radius;!function(n,r,a){t.fillStyle=a,t.beginPath();const o=i(n,r,e);t.arc(o.x,o.y,s,0,2*Math.PI),t.fill()}(this.x,this.y,this.color)}get lastPath(){return this.path[this.pathIndex-1]}get onPath(){return Math.abs(this.currentPath.x-this.roundPos.x)<2&&Math.abs(this.currentPath.y-this.roundPos.y)<2}get nextPath(){return this.path[this.pathIndex+1]}get currentPath(){return this.path[this.pathIndex]}}},131:(t,e,s)=>{const n=s(17),{FAST_ENEMY_COLOR:i}=s(556);t.exports=class extends n{constructor(t,e=7,s=45){super(t,e,s),this.color=i}}},565:(t,e,s)=>{const n=s(736),i=s(140),r=s(693),a=s(1),o=s(711),{BACKGROUND_COLOR:h,SIMULATION_RATE:c}=s(556),l=s(662),u=s(448);s(503),t.exports=class{constructor(){this.wave=0,this.towers=[],this.events=Object.create(null),this.fov=.1,this.camera=new r,this.path=s(846),this.pathObject=new i(this.path),this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.state=new a,this.makeSpots(),this.tick=0,this.startTime=window.performance.now(),this.mouse={x:0,y:0},this.scale=n(this.canvas),this.listen("resize",(()=>{this.scale=n(this.canvas)})),this.listen("mousemove",(t=>{const e=this.canvas.getBoundingClientRect();this.mouse.x=Math.round((t.pageX-e.left)/this.scale),this.mouse.y=Math.round((t.pageY-e.top)/this.scale)})),document.body.appendChild(this.canvas)}makeSpots(){const t=s(872);for(const e of t)this.state.spots.push(new o(e.x,e.y))}newEvent(t,e){void 0===this.events[e]&&(this.events[e]=[]),this.events[e].push(t)}listen(t,e,s=window){s.addEventListener(t,e.bind(this))}stop(){this.afr&&window.cancelAnimationFrame(this.afr)}start(){u(this.path,s(673),this),this.lastTime=0,function t(e=0){this.delta=(e-this.lastTime)/1e3,this.lastTime=e,this.update(),this.render(),this.afr=requestAnimationFrame(t.bind(this))}.bind(this)()}render(){this.ctx.fillStyle=h,this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.pathObject.render(this.ctx,this.camera),this.state.render(this.ctx,this.camera,this.path)}simulate(){this.state.simulate()}update(){const t=l(this.startTime);let e=0;for(this.camera.interp(this.mouse.x,this.mouse.y,this.delta);this.tick<t;){if(this.events[this.tick])for(const t of this.events[this.tick])t();if(e<=c&&this.simulate(),e>=120*c){alert("You left the tab for too long. Please refresh.");break}this.tick++,e++}}}},673:t=>{t.exports=JSON.parse('[{"type":"basic","amount":10,"time-in-between-ms":400,"delay":1200},{"type":"fast","amount":5,"delay":0,"time-in-between-ms":300}]')},846:t=>{t.exports=JSON.parse('[{"x":-50,"y":-50},{"x":100,"y":100},{"x":200,"y":300},{"x":700,"y":400},{"x":690,"y":250},{"x":800,"y":250},{"x":850,"y":200},{"x":900,"y":100},{"x":950,"y":150},{"x":1000,"y":175},{"x":1000,"y":200},{"x":1100,"y":350},{"x":1250,"y":200},{"x":1300,"y":200},{"x":1350,"y":300},{"x":1400,"y":400},{"x":1200,"y":500},{"x":1000,"y":600},{"x":500,"y":600},{"x":450,"y":550},{"x":300,"y":650},{"x":400,"y":700},{"x":1000,"y":750},{"x":1300,"y":800},{"x":1500,"y":850},{"x":1600,"y":900}]')},872:t=>{t.exports=JSON.parse('[{"x":120,"y":20},{"x":80,"y":220},{"x":420,"y":240},{"x":740,"y":100},{"x":1120,"y":160},{"x":1320,"y":560},{"x":340,"y":480},{"x":480,"y":820},{"x":740,"y":840},{"x":1200,"y":900},{"x":1400,"y":740},{"x":1580,"y":980}]')},140:(t,e,s)=>{const n=s(503),{PATH_SIZE:i,PATH_INSIDE_COLOR:r}=s(556);t.exports=class{constructor(t){this.paths=t}idx(t){return this.paths[t]}lineToPaths(t,e){for(const{x:s,y:i}of this.paths){const r=n(s,i,e);t.lineTo(r.x,r.y)}}render(t,e){t.beginPath(),t.lineJoin="round",t.beginPath(),this.lineToPaths(t,e),t.strokeStyle=r,t.lineWidth=.8*i,t.stroke()}}},711:(t,e,s)=>{const{SPOT_COLOR:n}=s(556),i=s(503);t.exports=class{constructor(t,e){this.x=t,this.y=e,this.size=50}render(t,e){t.fillStyle=n,t.beginPath();const s=i(this.x,this.y,e);t.arc(s.x,s.y,this.size/2,0,2*Math.PI),t.fill()}}},1:(t,e,s)=>{const{PATH_ENDS_COLOR:n,PATH_ENDS_SIZE:i}=s(556),r=s(503);t.exports=class{constructor(){this.towers=[],this.enemy=[],this.spots=[]}simulate(){for(let t=this.enemy.length-1;t>=0;t--){const e=this.enemy[t];e.update(),e.dead&&this.enemy.splice(t,1)}}render(t,e,s){for(const s of this.enemy)s.render(t,e);for(const s of this.spots)s.render(t,e);t.fillStyle=n,t.beginPath();const a=r(s[0].x,s[0].y,e);t.arc(a.x,a.y,i/2,0,2*Math.PI),t.fill(),t.beginPath();const o=r(s[s.length-1].x,s[s.length-1].y,e);t.arc(o.x,o.y,i/2,0,2*Math.PI),t.fill()}}},556:t=>{t.exports={GAME_WIDTH:1600,GAME_HEIGHT:900,BACKGROUND_COLOR:"black",LINE_DISTANCE:50,PATH_SIZE:70,SIMULATION_RATE:30,FAST_ENEMY_COLOR:"#19d4ab",BASIC_ENEMY_COLOR:"#2d2e2e",PATH_INSIDE_COLOR:"white",PATH_ENDS_COLOR:"#470703",PATH_ENDS_SIZE:70,SPOT_COLOR:"#9bb3c9"}},662:(t,e,s)=>{const{SIMULATION_RATE:n}=s(556);t.exports=function(t){return Math.ceil((window.performance.now()-t)*(n/1e3))}},503:(t,e,s)=>{const{GAME_WIDTH:n,GAME_HEIGHT:i}=s(556);t.exports=function(t,e,s){return{x:Math.round(t-s.x+n/2),y:Math.round(e-s.y+i/2)}}},736:(t,e,s)=>{const{GAME_WIDTH:n,GAME_HEIGHT:i}=s(556);t.exports=function(t,e=(()=>{})){if(t)return t.width!==n&&(t.width=n),t.height!==i&&(t.height=i),t.style.transform=`scale(${Math.min(window.innerWidth/n,window.innerHeight/i)})`,t.style.left=(window.innerWidth-n)/2+"px",t.style.top=(window.innerHeight-i)/2+"px",e(),Math.min(window.innerWidth/n,window.innerHeight/i)}},448:(t,e,s)=>{const n=s(688),i=s(662),{SIMULATION_RATE:r}=s(556);t.exports=function(t,e,s){const a=s.state.enemy;function o(e,n,o,h){for(let l=0;l<n;l++)s.newEvent((()=>{a.push(new e(t))}),(c=h+l*o,i(s.startTime)+c/1e3*r));var c}for(const t of e){const{type:e,amount:s,delay:i}=t;"basic"===e?o(n.Basic,s,t["time-in-between-ms"],i):"fast"===e&&o(n.Fast,s,t["time-in-between-ms"],i)}}}},e={};function s(n){if(e[n])return e[n].exports;var i=e[n]={id:n,exports:{}};return t[n](i,i.exports,s),i.exports}s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s(202),(new(s(565))).start()})();