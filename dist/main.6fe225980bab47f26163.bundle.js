(()=>{"use strict";var t={23:t=>{t.exports=JSON.parse('{"enemy":[{"type":"basic","amount":10,"time-in-between-ms":500,"delay":1600},{"type":"fast","amount":5,"delay":0,"time-in-between-ms":400},{"type":"strong","amount":5,"delay":6200,"time-in-between-ms":800}],"path":[{"x":-200,"y":-200},{"x":100,"y":100},{"x":200,"y":300},{"x":700,"y":400},{"x":690,"y":250},{"x":800,"y":250},{"x":850,"y":200},{"x":900,"y":100},{"x":950,"y":150},{"x":1000,"y":175},{"x":1000,"y":200},{"x":1100,"y":350},{"x":1250,"y":200},{"x":1300,"y":200},{"x":1350,"y":300},{"x":1400,"y":400},{"x":1200,"y":500},{"x":1000,"y":600},{"x":500,"y":600},{"x":450,"y":550},{"x":300,"y":650},{"x":400,"y":700},{"x":1000,"y":750},{"x":1300,"y":800},{"x":1500,"y":850},{"x":1800,"y":1100}],"waves":[0,50],"waveLocation":{"x":1500,"y":50},"spots":[{"x":170,"y":20},{"x":50,"y":220},{"x":420,"y":240},{"x":740,"y":100},{"x":1120,"y":160},{"x":1320,"y":560},{"x":340,"y":480},{"x":480,"y":820},{"x":740,"y":840},{"x":1200,"y":900},{"x":1400,"y":740},{"x":1200,"y":360},{"x":889,"y":479}]}')},197:(t,e,s)=>{s.d(e,{Z:()=>a});var i=s(645),n=s.n(i)()((function(t){return t[1]}));n.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Potta+One&display=swap);"]),n.push([t.id,"* {\r\n\tmargin:0;\r\n\tpadding:0;\r\n\tbox-sizing: border-box;\r\n}\r\nbody {\r\n\tbackground-color: #cfc3a5;\r\n\tfont-family: 'Potta One', cursive;\r\n\tfont-size: 16px;\r\n}\r\ncanvas {\r\n\tposition:absolute;\r\n\tleft:0;\r\n\ttop:0;\r\n}\r\n.menu {\r\n\tdisplay: flex;\r\n\tflex-direction:column;\r\n\tjustify-content:center;\r\n\talign-items: center;\r\n\tmin-height:100vh;\r\n}\r\n.menu h1 {\r\n\tcolor: #5e3c00;\r\n\tfont-size:5rem;\r\n}\r\n.button-container {\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tflex-direction:column;\r\n\tmargin: 10px;\r\n}\r\n.button-container button {\r\n\tborder: 10px solid #573700;\r\n\tcursor: pointer;\r\n\tpadding: 10px;\r\n\tbackground-color: #b37710;\r\n\tmargin: 10px;\r\n\tborder-radius: 10px;\r\n\twidth: 200px;\r\n\theight: 75px;\r\n\ttext-align:center;\r\n\tfont-size: 1.5rem;\r\n\tfont-weight: bold;\r\n\tcolor: #573700;\r\n}\r\n.menu .button-container a {\r\n\tdisplay: block;\r\n}\r\n.menu .help {\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n.hidden {\r\n\tdisplay: none;\r\n}",""]);const a=n},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var s=t(e);return e[2]?"@media ".concat(e[2]," {").concat(s,"}"):s})).join("")},e.i=function(t,s,i){"string"==typeof t&&(t=[[null,t,""]]);var n={};if(i)for(var a=0;a<this.length;a++){var r=this[a][0];null!=r&&(n[r]=!0)}for(var h=0;h<t.length;h++){var o=[].concat(t[h]);i&&n[o[0]]||(s&&(o[2]?o[2]="".concat(s," and ").concat(o[2]):o[2]=s),e.push(o))}},e}},202:(t,e,s)=>{s.r(e),s.d(e,{default:()=>r});var i=s(379),n=s.n(i),a=s(197);n()(a.Z,{insert:"head",singleton:!1});const r=a.Z.locals||{}},379:(t,e,s)=>{var i,n=function(){var t={};return function(e){if(void 0===t[e]){var s=document.querySelector(e);if(window.HTMLIFrameElement&&s instanceof window.HTMLIFrameElement)try{s=s.contentDocument.head}catch(t){s=null}t[e]=s}return t[e]}}(),a=[];function r(t){for(var e=-1,s=0;s<a.length;s++)if(a[s].identifier===t){e=s;break}return e}function h(t,e){for(var s={},i=[],n=0;n<t.length;n++){var h=t[n],o=e.base?h[0]+e.base:h[0],l=s[o]||0,c="".concat(o," ").concat(l);s[o]=l+1;var d=r(c),u={css:h[1],media:h[2],sourceMap:h[3]};-1!==d?(a[d].references++,a[d].updater(u)):a.push({identifier:c,updater:x(u,e),references:1}),i.push(c)}return i}function o(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var a=s.nc;a&&(i.nonce=a)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var r=n(t.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}return e}var l,c=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function d(t,e,s,i){var n=s?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=c(e,n);else{var a=document.createTextNode(n),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(a,r[e]):t.appendChild(a)}}function u(t,e,s){var i=s.css,n=s.media,a=s.sourceMap;if(n?t.setAttribute("media",n):t.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var y=null,p=0;function x(t,e){var s,i,n;if(e.singleton){var a=p++;s=y||(y=o(e)),i=d.bind(null,s,a,!1),n=d.bind(null,s,a,!0)}else s=o(e),i=u.bind(null,s,e),n=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(s)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else n()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var s=h(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<s.length;i++){var n=r(s[i]);a[n].references--}for(var o=h(t,e),l=0;l<s.length;l++){var c=r(s[l]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}s=o}}}},627:(t,e,s)=>{const i=s(503),{BASIC_BULLET_SIZE:n,BASIC_BULLET_COLOR:a,BASIC_TOWER_DAMAGE:r,GAME_WIDTH:h,GAME_MARGIN:o,GAME_HEIGHT:l,SIMULATION_RATE:c}=s(556);t.exports=class{constructor(t,e,s,i,r,h,o=n/2){this.x=t,this.y=e,this.speed=s,this.angle=i,this.xv=Math.cos(this.angle)*this.speed,this.yv=Math.sin(this.angle)*this.speed,this.color=a,this.radius=o,this.type="basic",this.x+=this.xv*r,this.y+=this.yv*r,this.range=h,this.traveled=0,this.opacity=1}get damage(){return Math.round(r+5*Math.random())}get offScreen(){return this.x-this.radius<-o||this.x+this.radius>h+o||this.y+this.radius>l+o||this.y-this.radius<-o}update(){this.x+=this.xv,this.y+=this.yv,this.traveled+=this.speed,this.traveled>this.range/2&&(this.opacity-=2/c,this.opacity<=0&&(this.delete=!0))}render(t,e){const s=i(this.x,this.y,e);t.globalAlpha=this.opacity,t.fillStyle=this.color,t.beginPath(),t.arc(s.x,s.y,this.radius*e.scale,0,2*Math.PI),t.fill(),t.globalAlpha=1}}},693:(t,e,s)=>{const{GAME_WIDTH:i,GAME_HEIGHT:n,SIMULATION_RATE:a}=s(556),r=s(295);t.exports=class{constructor(t=i/2,e=n/2,s=2.5){this.x=t,this.y=e,this.scale=.8,this.scalingBounds=[.2,20],this.speed=s,this.xv=0,this.yv=0,this.friction=.6}zoomIn(){this.scale+=.2,this.scale=r(this.scale,2)>=this.scalingBounds[1]?this.scalingBounds[0]:r(this.scale,2)}zoomOut(){this.scale-=.2,this.scale=r(this.scale,2)<=this.scalingBounds[0]?this.scalingBounds[0]:r(this.scale,2)}interp(t,e,s){s<1/30&&(this.xv+=.45*(t-this.x)*s*this.speed,this.yv+=.45*(e-this.y)*s*this.speed,this.xv+=.9*(i/2-this.x)*s*this.speed*5,this.yv+=.9*(n/2-this.y)*s*this.speed*5,this.xv*=Math.pow(this.friction,s*a),this.yv*=Math.pow(this.friction,s*a),this.x+=this.xv,this.y+=this.yv)}setTo(t,e){this.x=t,this.y=e}}},688:(t,e,s)=>{const i=s(17),n=s(131),a=s(198);t.exports={Basic:i,Fast:n,Strong:a}},17:(t,e,s)=>{const{BASIC_ENEMY_COLOR:i,BASIC_ENEMY_SPEED:n,BASIC_ENEMY_SIZE:a,BASIC_ENEMY_HEALTH:r,ENEMY_STATS_WIDTH:h,ENEMY_STATS_HEIGHT:o,SIMULATION_RATE:l}=s(556),c=s(503);t.exports=class{constructor(t,e=n,s=a,h=r){this.pathIndex=1,this.path=t,this.x=this.lastPath.x,this.y=this.lastPath.y,this.radius=s/2,this.speed=e,this.color=i,this.accuracy=5,this.calculateVelocity(),this.health=h,this.maxHealth=h,this.showStats=!1,this.deadTimer=0,this.type="Basic"}get dead(){return this.health<=0}lerp(t,e,s){return t*(1-s)+e*s}findAngle(){return Math.atan2(this.currentPath.y-this.lastPath.y,this.currentPath.x-this.lastPath.x)}calculateVelocity(){this.angle=this.findAngle(),this.xv=this.speed*Math.cos(this.angle)/this.accuracy,this.yv=this.speed*Math.sin(this.angle)/this.accuracy}update(t){if(this.dead)return this.deadTimer++,void(this.deadTimer>l&&(this.delete=!0));for(let t=0;t<this.accuracy;t++)this.x+=this.xv,this.y+=this.yv,this.onPath&&(this.pathIndex++,this.x=this.lastPath.x,this.y=this.lastPath.y,this.currentPath||(this.pathIndex=1,this.x=this.path[0].x,this.y=this.path[0].y),this.calculateVelocity());for(let e=t.bullet.length-1;e>=0;e--){const s=t.bullet[e],i=s.x-this.x,n=s.y-this.y;Math.sqrt(i*i+n*n)<s.radius+this.radius&&(this.health-=s.damage,t.bullet.splice(e,1))}}get roundPos(){return{x:Math.round(this.x),y:Math.round(this.y)}}drawEnemy(t,e,s){t.fillStyle=e,this.dead&&(t.globalAlpha=1-this.deadTimer/l),t.beginPath();const i=c(this.x,this.y,s);t.arc(i.x,i.y,this.radius*s.scale,0,2*Math.PI),t.fill(),t.fillStyle="red",t.strokeStyle="black",t.lineWidth=2,t.globalAlpha=1,this.dead||(t.fillRect(i.x-25,i.y-this.radius-5,Math.round(this.health/this.maxHealth*50),10),t.strokeRect(i.x-25,i.y-this.radius-5,50,10))}showEnemyStats(t,e){if(this.dead)return;t.globalAlpha=.5,t.fillStyle=this.color,t.textAlign="center",t.textBaseline="middle";const s=c(this.x,this.y,e);t.fillRect(s.x-h/2,s.y,h,o),t.fillStyle="white",t.fillRect(s.x-h/2,s.y,h,o),t.globalAlpha=1,t.fillStyle="black",t.font=28*e.scale+"px Arial",t.fillText(`type: ${this.type}`,s.x,Math.round(s.y+o/3)),t.fillText(`speed: ${Math.round(4*this.speed)}`,s.x,Math.round(s.y+o-o/3))}render(t,e){this.drawEnemy(t,this.color,e)}get lastPath(){return this.path[this.pathIndex-1]}get onPath(){return Math.abs(this.currentPath.x-this.roundPos.x)<2&&Math.abs(this.currentPath.y-this.roundPos.y)<2}get nextPath(){return this.path[this.pathIndex+1]}get currentPath(){return this.path[this.pathIndex]}}},131:(t,e,s)=>{const i=s(17),{FAST_ENEMY_COLOR:n,FAST_ENEMY_SPEED:a,FAST_ENEMY_SIZE:r,FAST_ENEMY_HEALTH:h}=s(556);t.exports=class extends i{constructor(t,e=a,s=r,i=h){super(t,e,s,i),this.color=n,this.type="Fast"}}},198:(t,e,s)=>{const i=s(17),{STRONG_ENEMY_COLOR:n,STRONG_ENEMY_SPEED:a,STRONG_ENEMY_SIZE:r,STRONG_ENEMY_HEALTH:h}=s(556);t.exports=class extends i{constructor(t,e=a,s=r,i=h){super(t,e,s,i),this.color=n,this.type="Strong"}}},565:(t,e,s)=>{const i=s(736),n=s(140),a=s(693),r=s(1),h=s(711),{BACKGROUND_COLOR:o,SIMULATION_RATE:l,CONTROLS:c}=s(556),d=s(662),u=s(448);t.exports=class{constructor(){this.wave=0,this.towers=[],this.events=Object.create(null),this.fov=.1,this.camera=new a,this.map=s(23),this.path=this.map.path,this.pathObject=new n(this.path),this.canvas=document.createElement("canvas"),this.GUI={canvas:document.createElement("canvas"),last:{money:null}},this.GUI.ctx=this.GUI.canvas.getContext("2d"),this.ctx=this.canvas.getContext("2d"),this.state=new r,this.makeSpots(),this.state.waveLocation=this.map.waveLocation,this.tick=0,this.time=window.performance.now(),this.startTime=window.performance.now(),this.mouse={x:0,y:0},this.resize(),this.listen("resize",(()=>{this.resize()})),this.listen("mousemove",(t=>{const e=this.canvas.getBoundingClientRect();this.mouse.x=Math.round((t.pageX-e.left)/this.scale),this.mouse.y=Math.round((t.pageY-e.top)/this.scale)})),this.controls=c,this.listen("keydown",this.trackKeys.bind(this)),this.listen("keyup",this.trackKeys.bind(this)),this.listen("mousedown",(()=>{this.state.handleMouseDown(this.mouse,this.camera)})),document.body.appendChild(this.canvas),document.body.appendChild(this.GUI.canvas)}resize(){this.scale=i(this.canvas),i(this.GUI.canvas)}trackKeys(t){t.repeat||this.controls[t.key.toLowerCase()]}makeSpots(){for(const t of this.map.spots)this.state.spots.push(new h(t.x,t.y))}newEvent(t,e){void 0===this.events[Math.round(e)]&&(this.events[Math.round(e)]=[]),this.events[Math.round(e)].push(t)}listen(t,e,s=window){s.addEventListener(t,e.bind(this))}stop(){this.afr&&window.cancelAnimationFrame(this.afr)}start(){u(this.path,this.map.enemy,this),this.lastTime=0,function t(e=0){this.delta=(e-this.lastTime)/1e3,this.lastTime=e,this.update(),this.render(),this.afr=requestAnimationFrame(t.bind(this))}.bind(this)()}render(){this.ctx.fillStyle=o,this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.pathObject.render(this.ctx,this.camera),this.state.render(this.ctx,this.camera,this.GUI)}simulate(){this.state.simulate(this.mouse,this.camera)}update(){let t=d(this.startTime);for(t-this.tick>l/3&&(this.startTime+=window.performance.now()-this.time,t=this.tick,this.tick-=1),this.camera.interp(this.mouse.x,this.mouse.y,this.delta),this.time=window.performance.now();this.tick<t;){if(this.events[this.tick]){for(const t of this.events[this.tick])t();delete this.events[this.tick]}this.simulate(),this.tick++}}}},427:(t,e,s)=>{const i=s(299);t.exports={money:i}},299:(t,e,s)=>{const{MONEY_DISPLAY_WIDTH:i,MONEY_DISPLAY_HEIGHT:n,GAME_WIDTH:a}=s(556),r=s(295);t.exports=function(t,e,s){if(t.last.money===s)return;t.last.money=s;const h=t.ctx;h.clearRect(0,0,t.canvas.width,t.canvas.height),h.fillStyle="#80db74",h.strokeStyle="#187d0b",h.lineWidth=10*e.scale;const o={x:Math.round(a-i+10*e.scale),y:Math.round(-10*e.scale)};h.roundRect(o.x,o.y,i,n,15*e.scale),h.fill(),h.stroke(),h.fillStyle="#137007",h.textAlign="center",h.textBaseline="middle",h.font="40px Trebuchet MS",h.fillText("$",Math.round(o.x+i/4),Math.round(o.y+n/2)),h.font="35px Arial",h.fillText(function(t){return t<=999?`${t}`:`${r(t/1e3,1)} K`}(s),Math.round(o.x+i/2+i/20),Math.round(o.y+n/2))},CanvasRenderingContext2D.prototype.roundRect=function(t,e,s,i,n){return s<2*n&&(n=s/2),i<2*n&&(n=i/2),this.beginPath(),this.moveTo(t+n,e),this.arcTo(t+s,e,t+s,e+i,n),this.arcTo(t+s,e+i,t,e+i,n),this.arcTo(t,e+i,t,e,n),this.arcTo(t,e,t+s,e,n),this.closePath(),this}},140:(t,e,s)=>{const i=s(503),{PATH_SIZE:n,PATH_INSIDE_COLOR:a,PATH_STROKE_COLOR:r}=s(556);t.exports=class{constructor(t){this.paths=t}idx(t){return this.paths[t]}lineToPaths(t,e){for(const{x:s,y:n}of this.paths){const a=i(s,n,e);t.lineTo(a.x,a.y)}}render(t,e){t.beginPath(),t.lineJoin="round",this.lineToPaths(t,e),t.strokeStyle=r,t.lineWidth=n*e.scale,t.stroke(),t.beginPath(),this.lineToPaths(t,e),t.strokeStyle=a,t.lineWidth=.7*n*e.scale,t.stroke()}}},297:t=>{t.exports={playButton:document.querySelector(".play"),menu:document.querySelector(".menu")}},711:(t,e,s)=>{const{SPOT_COLOR:i,SPOT_SIZE:n,TOWER_DISPLAY_WIDTH:a,TOWER_DISPLAY_HEIGHT:r}=s(556),h=s(243),o=s(503);t.exports=class{constructor(t,e){this.x=t,this.y=e,this.radius=n/2,this.color=i,this.tower=Math.random()<.5?null:new h(this.x,this.y)}get fill(){return`rgb(${this.color}, ${this.color}, ${this.color})`}get hasTower(){return null!==this.tower}update(t,e,s){const n=o(this.x,this.y,e),a=t.x-n.x,r=t.y-n.y;this.color=i,Math.abs(a)<50&&Math.abs(r)<50&&!this.hasTower&&Math.sqrt(a*a+r*r)<this.radius&&(this.color=255),this.hasTower&&this.tower.simulate(s)}drawSpot(t,e){t.fillStyle=this.fill,t.beginPath();const s=o(this.x,this.y,e);t.arc(s.x,s.y,this.radius*e.scale,0,2*Math.PI),t.strokeStyle="black",t.lineWidth=3,t.stroke(),t.fill()}drawTowerData(t,e){t.fillStyle="rgba(150, 150, 150, 0.2)";const s=o(this.x,this.y,e);t.beginPath(),t.arc(s.x,s.y,this.tower.fov/2*e.scale,0,2*Math.PI),t.fill()}drawSpotData(t,e){t.fillStyle="rgba(255, 255, 255, 0.5)";const s=o(this.x,this.y,e);t.textAlign="center",t.textBaseline="middle",t.font="40px Arial","down"===this.showData?(t.fillRect(s.x-a/2,s.y,a,r),t.fillStyle="black",t.fillText("TOWERS",s.x,s.y+50)):"up"===this.showData&&(t.fillRect(s.x-a/2,s.y,a,-r),t.fillStyle="black",t.fillText("TOWERS",s.x,s.y-50))}drawData(t,e){this.hasTower?this.drawTowerData(t,e):this.drawSpotData(t,e)}render(t,e){this.drawSpot(t,e),this.hasTower&&this.tower.render(t,e)}}},1:(t,e,s)=>{const{PATH_ENDS_COLOR:i,PATH_ENDS_SIZE:n,GAME_HEIGHT:a}=s(556),r=s(503),{money:h}=s(427);t.exports=class{constructor(){this.enemy=[],this.spots=[],this.bullet=[],this.wave=1,this.money=100,this.waveLocation={x:0,y:0}}intersect(t,e,s,i){const n=r(t.x,t.y,i),a=e.x-n.x,h=e.y-n.y;return!(Math.abs(a)>50||Math.abs(h)>50)&&Math.sqrt(a*a+h*h)<2*s}simulate(t,e){for(let t=this.bullet.length-1;t>=0;t--){const e=this.bullet[t];e.update(),e.delete&&this.bullet.splice(t,1)}let s=!1;for(const i of this.spots)i.update(t,e,this),i.showData&&(s=!0);let i=null;for(let n=this.enemy.length-1;n>=0;n--){const a=this.enemy[n];a.update(this),a.showStats=!1,a.delete?this.enemy.splice(n,1):!s&&null===i&&this.intersect({x:a.x,y:a.y},t,a.radius,e)&&(i=n)}null!=i&&this.enemy[i]&&(this.enemy[i].showStats=!0)}handleMouseDown(t,e){let s=null;for(let i=this.spots.length-1;i>=0;i--){const n=this.spots[i];n.showData=null,null===s&&this.intersect({x:n.x,y:n.y},t,n.radius,e)&&(s=i)}if(null!=s){const t=this.spots[s];t.y<a/2+a/10?t.showData="down":t.showData="up"}}drawPathEnds(t,e,s){t.fillStyle=i,t.beginPath();const a=r(s[0].x,s[0].y,e);t.arc(a.x,a.y,n/2*e.scale,0,2*Math.PI),t.fill(),t.beginPath();const h=r(s[s.length-1].x,s[s.length-1].y,e);t.arc(h.x,h.y,n/2*e.scale,0,2*Math.PI),t.fill()}drawWaveText(t,e){const s=r(this.waveLocation.x,this.waveLocation.y,e);t.font="40px sans-serif",t.fillStyle="#9e9170",t.fillText(`Wave ${this.wave}`,s.x,s.y)}drawGUI(t,e){h(t,e,this.money)}render(t,e,s){for(const s of this.bullet)s.render(t,e);let i=null;for(let s=0;s<this.spots.length;s++){const n=this.spots[s];n.render(t,e),n.showData&&(i=s)}let n=null;for(let s=0;s<this.enemy.length;s++){const i=this.enemy[s];i.render(t,e),i.showStats&&(n=s)}null!=n&&this.enemy[n].showEnemyStats(t,e),null!=i&&this.spots[i].drawData(t,e),this.drawGUI(s,e)}}},243:(t,e,s)=>{const{TOWER_SIZE:i,TOWER_BARREL_WIDTH:n,TOWER_BARREL_HEIGHT:a,TOWER_ROTATE_SPEED:r,BASIC_TOWER_COLOR:h,BASIC_TOWER_FOV:o,BASIC_TOWER_RELOAD_TIME:l,SIMULATION_RATE:c,BASIC_BULLET_SPEED:d}=s(556),u=s(503),y=s(627);function p(t){return t*Math.PI/180}t.exports=class{constructor(t,e,s=l){this.x=t,this.y=e,this.angle=Math.round(360*Math.random()),this.rotateSpeed=r,this.radius=i/2,this.color=h,this.fov=o,this.reload=Math.round(s*c),this.tick=0}update(){this.angle+=this.rotateSpeed,this.angle=this.angle%360}simulate(t){let e=null;for(let s=0;s<t.enemy.length;s++){const i=t.enemy[s],n=i.x-this.x,a=i.y-this.y,r=Math.sqrt(n*n+a*a);r<this.fov/2+i.radius&&(null===e||e.dist>r)&&(e={dist:r,index:s})}null!=e?(this.angle=180*Math.atan2(t.enemy[e.index].y-this.y,t.enemy[e.index].x-this.x)/Math.PI,this.angle=this.angle%360,this.tick%this.reload==0&&t.bullet.push(new y(this.x,this.y,d,p(this.angle),this.radius/4,this.fov/2))):this.update(),this.locked--,this.tick++}render(t,e){const s=u(this.x,this.y,e);t.save(),t.translate(s.x,s.y),t.rotate(p(this.angle)),t.fillStyle=this.color,t.beginPath(),t.arc(0,0,this.radius*e.scale,0,2*Math.PI),t.fill(),t.fillRect(0,-a/2,n,a),t.restore()}}},556:t=>{t.exports={GAME_WIDTH:1600,GAME_MARGIN:200,GAME_HEIGHT:900,BACKGROUND_COLOR:"#dbd2ba",LINE_DISTANCE:50,PATH_SIZE:75,PATH_STROKE_COLOR:"#8f7328",SIMULATION_RATE:60,FAST_ENEMY_COLOR:"#19d4ab",BASIC_ENEMY_COLOR:"#2d2e2e",PATH_INSIDE_COLOR:"#bda562",STRONG_ENEMY_COLOR:"#73020f",PATH_ENDS_COLOR:"#d40018",BASIC_BULLET_COLOR:"#323232",BASIC_BULLET_SIZE:20,PATH_ENDS_SIZE:70,BASIC_BULLET_SPEED:8,SPOT_COLOR:"140",BASIC_TOWER_FOV:400,SPOT_SIZE:65,CONTROLS:{i:"zoomin",o:"zoomout"},TOWER_ROTATE_SPEED:2.5,TOWER_DISPLAY_WIDTH:300,TOWER_DISPLAY_HEIGHT:100,ENEMY_STATS_WIDTH:150,ENEMY_STATS_HEIGHT:100,TOWER_LEVELS:[{name:"bronze",tiers:4,color:"33"},{name:"gold",tiers:4},{name:"diamond",tiers:4},{name:"ruby",tiers:4}],TOWER_TIERS:4,BASIC_TOWER_COLOR:"#474747",TOWER_SIZE:45,TOWER_BARREL_WIDTH:35,TOWER_BARREL_HEIGHT:20,BASIC_ENEMY_SIZE:50,BASIC_ENEMY_SPEED:2.5,BASIC_ENEMY_HEALTH:100,FAST_ENEMY_SPEED:3.5,FAST_ENEMY_SIZE:45,FAST_ENEMY_HEALTH:70,STRONG_ENEMY_SIZE:55,STRONG_ENEMY_HEALTH:200,STRONG_ENEMY_SPEED:2,BASIC_TOWER_RELOAD_TIME:.5,BASIC_TOWER_DAMAGE:15,MONEY_DISPLAY_WIDTH:200,MONEY_DISPLAY_HEIGHT:75}},662:(t,e,s)=>{const{SIMULATION_RATE:i}=s(556);t.exports=function(t){return Math.ceil((window.performance.now()-t)*(i/1e3))}},503:(t,e,s)=>{const{GAME_WIDTH:i,GAME_HEIGHT:n}=s(556);t.exports=function(t,e,s){return{x:Math.round((t-s.x)*s.scale+i/2),y:Math.round((e-s.y)*s.scale+n/2)}}},736:(t,e,s)=>{const{GAME_WIDTH:i,GAME_HEIGHT:n}=s(556);t.exports=function(t,e=(()=>{})){if(t)return t.width!==i&&(t.width=i),t.height!==n&&(t.height=n),t.style.transform=`scale(${Math.min(window.innerWidth/i,window.innerHeight/n)})`,t.style.left=(window.innerWidth-i)/2+"px",t.style.top=(window.innerHeight-n)/2+"px",e(),Math.min(window.innerWidth/i,window.innerHeight/n)}},295:t=>{t.exports=function(t,e){return Math.round(t*10**e)/10**e}},448:(t,e,s)=>{const i=s(688),n=s(662),{SIMULATION_RATE:a}=s(556);t.exports=function(t,e,s){function r(e,i,r,h){for(let l=1;l<i+1;l++)s.newEvent((()=>{s.state.enemy.push(new e(t))}),(o=h+l*r,n(s.startTime)+o/1e3*a));var o}for(const t of e){const{type:e,amount:s,delay:n}=t;"basic"===e?r(i.Basic,s,t["time-in-between-ms"],n):"fast"===e?r(i.Fast,s,t["time-in-between-ms"],n):"strong"===e&&r(i.Strong,s,t["time-in-between-ms"],n)}}}},e={};function s(i){if(e[i])return e[i].exports;var n=e[i]={id:i,exports:{}};return t[i](n,n.exports,s),n.exports}s.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return s.d(e,{a:e}),e},s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{s(202);const t=s(565),e=s(297);e.playButton.addEventListener("mousedown",(()=>{e.menu.classList.add("hidden"),(new t).start()}))})()})();